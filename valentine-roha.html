<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Valentine Proposal for Roha</title>
    <style>
        /* ANIMATED BACKGROUND */
        body {
            background: linear-gradient(-45deg, #fce4ec, #f8bbd0, #fce4ec, #f06292);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* FIXED CENTER BOX */
        .white-box {
            background-color: white;
            padding: 60px 50px;
            border-radius: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            text-align: center;
            width: 500px;
            min-height: 450px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .my-img {
            width: 200px;
            height: auto;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 28px;
            color: #d63384; 
            font-weight: 500;
            margin-bottom: 40px;
        }

        .btn-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            width: 100%;
            height: 60px;
        }

        button {
            padding: 15px 35px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 30px;
            border: none;
            cursor: pointer;
        }

        #yesBtn {
            background-color: #ff4d6d;
            color: white;
        }

        #noBtn {
            background-color: #efefef;
            color: #777;
            position: absolute; 
            transition: 0.1s ease;
            z-index: 10;
        }

        .shy-text {
            display: block;
            margin-top: 35px;
            color: #999;
            font-size: 14px;
            font-style: italic;
        }
    </style>
</head>
<body>

    <audio id="bgMusic" src="our-song.mp3" loop preload="auto"></audio>

    <div class="white-box" id="mainBox">
        <img src="image_31b797.png" class="my-img">
        <h1>roha will you be my valentine?</h1>

        <div class="btn-container">
            <button id="yesBtn">Yes</button>
            <button id="noBtn" style="top: 335px; left: 275px;">No</button>
        </div>

        <span class="shy-text"> "No" seems a bit shy ü´£ </span>
    </div>

    <script>
        const noButton = document.getElementById('noBtn');
        const yesButton = document.getElementById('yesBtn');
        const mainBox = document.getElementById('mainBox');
        const music = document.getElementById('bgMusic');

        // ASAP TRIGGER: Plays at 50% volume on first engagement
        const startMusic = () => {
            music.volume = 0.5; // Updated to 50%
            music.play().catch(() => {
                console.log("Autoplay blocked, waiting for more interaction.");
            });
            window.removeEventListener('mouseenter', startMusic);
            window.removeEventListener('touchstart', startMusic);
            window.removeEventListener('click', startMusic);
        };

        window.addEventListener('mouseenter', startMusic);
        window.addEventListener('touchstart', startMusic);
        window.addEventListener('click', startMusic);

        noButton.addEventListener('mouseover', () => {
            const boxWidth = mainBox.offsetWidth;
            const boxHeight = mainBox.offsetHeight;
            const randomX = Math.floor(Math.random() * (boxWidth - noButton.offsetWidth - 20)) + 10;
            const randomY = Math.floor(Math.random() * (boxHeight - noButton.offsetHeight - 20)) + 10;
            noButton.style.left = randomX + 'px';
            noButton.style.top = randomY + 'px';
        });

        yesButton.addEventListener('click', () => {
            music.pause();
            music.currentTime = 0;
            mainBox.innerHTML = `
                <h1 style="font-size: 40px; color: #ff4d6d; margin-bottom: 20px;">YAY! üéâ</h1>
                <img src="cat_celebration.gif" width="200" style="border-radius: 20px; margin-bottom: 20px;">
                <h2 style="color: #ff4d6d; margin-top: 20px; font-size: 20px; padding: 0 10px;">Ohhh I see üëÄ so you‚Äôve been up to things without telling me‚Ä¶ dangerous üòèü´£</h2>
                <img src="bubu-bubu-dudu.gif" width="150" style="margin-top: 15px;">
            `;
        });
    </script>
</body>
</html>